---
authors: Nahum Shalman <nahum.shalman@mnx.io>
state: draft
discussion: https://github.com/TritonDataCenter/rfd/issues?q=%22RFD+187%22
---

# RFD 187 Attribution of AI Contributions to Triton

## Definitions of Terms

AI - Artificial Intelligence. In this document this term will be used to refer to "generative AI" such
as large language models (LLMs). Commercial examples include ChatGPT from OpenAI and Claude from Anthropic.
This document intends to cover both use of commercially available tools as well as locally run ones (e.g.
running a Llama model using ollama).

## Problem statement

If we allow contributions to our repositories that were produced using AI tools, we believe
that we need to keep track of them. While some of these tools may credit themselves in commit
messages, our squash-and-merge processes in many of our repos means we need a plan for how
to preserve that attribution in the commits that land on our production branches.

## Proposed Solution

### Attribution

- The unit of work that we land is a peer-reviewed GitHub pull request.
- Only humans count as peer reviewers for approving and merging pull requests.
- A human proposing a PR with AI generated content is expected to fully understand that content.
- A PR with ANY AI generated content MUST credit the AI tool(s) used, regardless of the size or significance of the contribution.
- For the sake of consistency, ALL commits MUST have a human git `Author`
- For repositories where branches are merged preserving the original commits (GitHub style):
  - Commit messages MAY use the GitHub recognized `Co-authored-by: ` trailer.
  - Commits where the tool automatically credits itself as co-author are great.
  - If the commit message is being written by a human, make sure to credit the tool appropriately. 
- For repositories where we follow illumos style and do a "squash and merge" down to a single commit:
  - The applied commit message MUST contain an attribution line.
  - The format of that line is `Portions generated by: ` followed by an appropriate attribution.
  - For tools with a standardized name and email address, e.g. Claude Code, we will use the string the tool uses.
    e.g. `Claude <noreply@anthropic.com>`
  - For tools without a standard attribution formats, use the tool name and version when available.
    Examples could include: `ChatGPT-4`,  `ollama/llama3.1`, `GitHub Copilot`, etc.

#### Examples

- Hypothetical example of a commit message for an illumos style squashed commit where Claude was used:

```
commit 8250b359dc7b130b978fcc619bbbec989df13806
Author: Nahum Shalman <nahum.shalman@mnx.io>
Date:   Wed Jun 18 12:09:59 2025 -0400

    TRITON-XXXX: Subject from JIRA Ticket

    Portions generated by: Claude <noreply@anthropic.com>
    Reviewed by: Dan McDonald <danmcd@mnx.io>
    Approved by: Dan McDonald <danmcd@mnx.io>
```

- Commit message composed by a human crediting Claude: https://github.com/TritonDataCenter/triton-moirai/pull/4/commits/36ee26c3700cc74aa730489abc1779b0de724c01
```
commit 36ee26c3700cc74aa730489abc1779b0de724c01
Author: Nahum Shalman <nahum.shalman@mnx.io>
Date:   Thu May 8 09:34:27 2025 -0400

    TRITON-2478: Translate from javascript to rust

    Claude Sonnet was used to assist with the porting.
```

- Commit message composed by Claude: https://github.com/TritonDataCenter/triton-moirai/pull/4/commits/87d42eb21886ae2ad9877621bd1144a975ae40db
```
commit 87d42eb21886ae2ad9877621bd1144a975ae40db
Author: Nahum Shalman <nahum.shalman@mnx.io>
Date:   Tue Jun 10 17:29:52 2025 +0000

    Refactor service types: replace confusing 'httpss' with clearer naming

    - Replace 'httpss' with 'https' (HTTPS frontend â†’ HTTPS backend, TLS bridging)
    - Replace 'https' with 'https-http' (HTTPS frontend â†’ HTTP backend, TLS termination)
    - Restore 'https' to its original meaning of end-to-end HTTPS
    - Update all method implementations (backend_ssl, frontend_ssl, use_sticky_session)
    - Update comprehensive documentation in code comments and README
    - Modernize tests to dynamically calculate cookie keys for robustness
    - All tests pass and code quality checks succeed

    The new naming explicitly shows frontendâ†’backend protocol mapping,
    making service configurations self-documenting and intuitive.

    ðŸ¤– Generated with [Claude Code](https://claude.ai/code)

    Co-Authored-By: Claude <noreply@anthropic.com>
```

- Squashed commits from Claude with model details added manually: https://github.com/TritonDataCenter/triton-moirai/pull/4/commits/dd12c0a18b2334fc56926d29659c7923d3c68c63
```
commit dd12c0a18b2334fc56926d29659c7923d3c68c63
Author: Nahum Shalman <nahum.shalman@mnx.io>
Date:   Fri May 30 16:25:57 2025 +0000

    TRITON-2478: Add JSON-like syntax for HAProxy health check configuration

    Implement inline health check parameter syntax using JSON-like format:
    {check:/healthz,port:32150,rise:30,fall:1}. This allows users to
    configure health check endpoints, ports, and rise/fall counts directly
    in service definitions while maintaining backward compatibility.
    Code changes authored using Opus for $3.67

    Enhance both inline code documentation and README with detailed explanations
    of the JSON-like health check syntax introduced in the previous commit.
    Includes parameter descriptions, usage examples, and integration guidance.
    Documentation changes authored using Sonnet for $0.61

    ðŸ¤– Generated with [Claude Code](https://claude.ai/code)

    Co-Authored-By: Claude <noreply@anthropic.com>
```

#### Counter Example

> [!WARNING]
Even though the following commit would be fine when viewed on GitHub or when looking at the detailed commit information,
it would obscure the responsible human in plain `git log` output.

> [!WARNING]
Commit from Claude with Claude as `Author`: https://github.com/TritonDataCenter/rfd/commit/a75057c51b8515eb153105ad133b7df7dcee5b3e
```
### --- THIS IS A COUNTER EXAMPLE --- ###
$ git log -n 1 --pretty=fuller a7505
commit a75057c51b8515eb153105ad133b7df7dcee5b3e
Author:     Claude <noreply@anthropic.com>
AuthorDate: Wed Jun 18 12:41:31 2025 -0400
Commit:     Nahum Shalman <nahum.shalman@mnx.io>
CommitDate: Wed Jun 18 12:42:24 2025 -0400
<snip>
### --- THIS IS A COUNTER EXAMPLE --- ###
```

## References

- https://docs.github.com/en/pull-requests/committing-changes-to-your-project/creating-and-editing-commits/creating-a-commit-with-multiple-authors
- https://illumos.org/books/dev/workflow.html#squashing-commits-and-commit-messages
- https://simonwillison.net/2025/Feb/3/a-computer-can-never-be-held-accountable/
```
         A COMPUTER
CAN NEVER BE HELD ACCOUNTABLE

THEREFORE A COMPUTER MUST NEVER
   MAKE A MANAGEMENT DECISION
```

